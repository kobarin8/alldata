package com.internousdev.ecsite.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import com.internousdev.ecsite.util.DBConnector;

public class DeleteItemDAO {

	private DBConnector dbConnector = new DBConnector();															//
	private Connection connection = dbConnector.getConnection();												//


	public int buyItemHistoryDelete(String item_transaction_id, String user_master_id) throws SQLException {

		String sql = "DELETE FROM user_buy_item_transaction WHERE item_transaction_id = ? AND user_master_id = ?";

		PreparedStatement preparedStatement;																					//preparedStatementの変数化

		int result = 0;																															//int型変数resultの定義と、定数0の代入

		try {

			preparedStatement = connection.prepareStatement(sql);													//SQL文の実行。値の所得
			preparedStatement.setString(1, item_transaction_id);														//バインド変数のパラメーター設定
			preparedStatement.setString(2, user_master_id);																//バインド変数のパラメーター設定

			result = preparedStatement.executeUpdate();																	//SQLを実行し、戻り値（処理した件数）を変数に代入する

		}

		catch (SQLException e) {e.printStackTrace();}																		//
		finally {connection.close();}																									//
		return result;																															//

}

}


